---
# yaml-language-server: $schema=qa-schema.json
appset:
  categoryValues:
    upstream:
      disableDefaultTagRevision: true
      path: ""
    default:
      targetRevision: main
      syncPolicyMode: stg
      inlineValues:
        valueBundles:
          eksStg:
            enabled: true
        custom:
          env: qa
          vaultProjectId: "2087"
          lamaNamespace: 2063-vault-stg
          wdProjectId: "2087"
          wdDBNamespace: 2087-vault-qa
          eksClusterId: "2021"

    all:
      path: argocd/base

    gates-base:
      repoUrl: https://github.com/LedgerHQ/ledger-vault-api
      path: argocd/base

    gates-previous:
      targetRevision: 8.10.15

    gates-current:
      targetRevision: 8.11.5

    gates-override:
      inlineValues:
        custom:
          calVersion: 2025.40.2643
        env:
          # specific to next : testing only (DO NOT COPY)
          VAULT_ATTESTATION_ID: 1
          VAULT_USE_VAULT_INTERNALS: true
          VAULT_USE_HSM_TEST_SIGNATURES: true
          VAULT_TRADELINK_TESTS_MIN_CONFIRMATIONS_REQUIRED: 3 # specific tradeling for env testing : restrict the number of confirmation
          # specific per envs (DO NOT COPY)
          VAULT_WALLET_DAEMON_NAME: testnew
          VAULT_HSM_DRIVER_NAME: testnew
          VAULT_PRICING_PLAN_NAME: enterprise

    gates-mix-preset:
      extendCategories: [gates-base, gates-self-version-stg, gates-previous, gates-override]
    gates:
      extendCategories: [gates-base, gates-self-version-stg, gates-current, gates-override]

    hsmdrivers:
      inlineValues:
        certexporter:
          image:
            tag: "1.0.0"
        env:
          VAULT_HSM_ENV: "DEV"

    wds:
      repoUrl: https://github.com/LedgerHQ/ledger-wallet-daemon
      path: argocd/base
      targetRevision: 75395d6b000dd8fbc0fd95067ff12929d654350b
      useAppTemplate: true
      inlineValues:
        image:
          tag: 2.18.3
        resources:
          requests:
            cpu: "1"

  projectValues:
    upstream:
      common-secrets:
        repoUrl: ghcr.io/ledgerhq/charts
        chartName: app-template
        targetRevision: 4.10.4
        inlineValues:
          controller:
            enabled: false
          service:
            main:
              enabled: false
          valueBundles:
            eksStg:
              enabled: true
          externalSecret:
            postgresql:
              enabled: true
              dataFrom:
                - extract:
                    key: 2087/tf-postgresql
            rabbitmq:
              enabled: true
              dataFrom:
                - extract:
                    key: 2087/tf-rabbitmq
            keycloak:
              enabled: true
              dataFrom:
                - extract:
                    key: keycloak-qa/tf-keycloak
      vault-rabbitmq:
        repoUrl: https://charts.bitnami.com/bitnami
        chartName: rabbitmq
        targetRevision: 12.15.0
        valueFiles:
          - $git-ledgerhq-sreargocd/deploy/platform-2220-cluster/applications/vault/common/values-rabbitmq.yaml
        inlineValues:
          image:
            registry: jfrog.ledgerlabs.net
            repository: ossproxy-oci-proxy-dockerio/bitnami/rabbitmq
            pullSecrets:
              - name: container-registries
          ingress:
            enabled: true
            hostname: vault-rabbitmq-qa.aws.stg.ldg-tech.com
          podAnnotations:
            ad.datadoghq.com/rabbitmq.instances: |
              [
                {
                  "rabbitmq_api_url":"http://%%host%%:15672/api/",
                  "username":"datadog",
                  "password":"%%env_DD_RABBITMQ_PASSWORD_STG_VAULT_QA%%"
                }
              ]
      keycloak:
        repoUrl: registry-1.docker.io/bitnamicharts
        chartName: keycloak
        targetRevision: 24.6.3
        valueFiles:
          - $git-ledgerhq-sreargocd/deploy/platform-2220-cluster/applications/vault/common/values-keycloak.yaml
        inlineValues:
          extraEnvVars: []
          image:
            registry: jfrog.ledgerlabs.net
            repository: ossproxy-oci-proxy-dockerio/bitnami/keycloak
            pullSecrets:
              - name: container-registries
          global:
            security:
              allowInsecureImages: true
          production: true
          ingress:
            enabled: true
            hostname: vault-keycloak-qa.aws.stg.ldg-tech.com
            hostnameStrict: true
            tls: true
            ingressClassName: trusted
            annotations:
              cert-manager.io/cluster-issuer: letsencrypt-prod
          adminIngress:
            enabled: false
          tls:
            enabled: true
            autoGenerated: true
          externalDatabase:
            host: pg-main.2087-vault-qa.aws.ldg-stg.net
          metrics:
            enabled: true
          podAnnotations:
            ad.datadoghq.com/keycloak.checks: |
              {
                "openmetrics": {
                  "init_config": {},
                  "instances": [
                    {
                      "openmetrics_endpoint": "http://%%host%%:8080/realms/master/metrics",
                      "namespace": "keycloak",
                      "metrics": [
                        "jvm_memory_bytes_used",
                        "jvm_memory_bytes_max",
                        "jvm_memory_bytes_committed",
                        "keycloak_logins*",
                        "keycloak_response*",
                        "keycloak_client_logins*",
                        "keycloak_failed_login_attempts*",
                        "keycloak_request_duration*"
                      ],
                      "tag_by_endpoint": false,
                      "collect_histogram_buckets": true,
                      "histogram_buckets_as_distributions": true,
                      "collect_counters_with_distributions": true
                    }
                  ]
                }
              }

    all:
      apdu-connector:
        repoUrl: https://github.com/LedgerHQ/vault-apdu-connector
        useAppTemplate: true
        targetRevision: c70f608bfba5773a9edc51c82faafecdb2746baf
        inlineValues:
          image:
            tag: 1.1.3

      api-keys:
        repoUrl: https://github.com/LedgerHQ/vault-api-keys
        useAppTemplate: true
        targetRevision: 1.0.6

      api-gateway:
        repoUrl: https://github.com/LedgerHQ/vault-api-gateway
        useAppTemplate: true
        targetRevision: 1.35.2

      aum-api:
        repoUrl: https://github.com/LedgerHQ/vault-aum-api
        useAppTemplate: true
        targetRevision: ad486e1490aed44a46a04188d70e937b4cc86ffc
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-aum-api
            tag: 5.9.3

      aus:
        repoUrl: https://github.com/LedgerHQ/vault-aus-api
        imageUpdater: jfrog.ledgerlabs.net/vault-oci-prod-green/vault-aus-api:main
        targetRevision: 0.9.0

      authentication-service:
        repoUrl: https://github.com/LedgerHQ/vault-authentication-service
        useAppTemplate: true
        targetRevision: 1.1.1

      coin-gateway:
        repoUrl: https://github.com/LedgerHQ/coin-gateway
        useAppTemplate: true
        targetRevision: 1.34.0
        inlineValues:
          env:
            CATAPLASM_WORKSPACES: "{}"
            CATAPLASM_BTC_KEYCHAIN_HOST: "http://keychain.2063-vault-stg.svc.cluster.local"
            BITCOIN_TRANSACTION_CRAFTER_URL: "http://bitcoin-transaction-crafter.2063-vault-stg.svc.cluster.local"
            CARDANO_ACCOUNT_READER_URL: "http://cardano-account-reader.2063-vault-stg.svc.cluster.local"
            CATAPLASM_SYNC_SCHEDULER_URL: "http://lama-scheduler.2063-vault-stg.svc.cluster.local"
            ETHEREUM_ACCOUNT_READER_URL: "http://ethereum-account-reader.2063-vault-stg.svc.cluster.local"
            SOLANA_ACCOUNT_READER_URL: "http://solana-account-reader.2063-vault-stg.svc.cluster.local"
            SOLANA_TRANSACTION_CRAFTER_URL: "http://solana-transaction-crafter.2063-vault-stg.svc.cluster.local"

      # ==================================================================
      # device-api - Used to enable software device in stg
      # ==================================================================
      device-api:
        repoUrl: https://github.com/LedgerHQ/vault-device-api
        useAppTemplate: true
        targetRevision: 4.2.0
        imageUpdater: ghcr.io/ledgerhq/vault-device-api:main
        inlineValues:
          env:
            BLUE_APP_BINDING_VERSION: 1

      device-registry:
        repoUrl: https://github.com/LedgerHQ/vault-device-registry
        useAppTemplate: true
        targetRevision: 2.2.5

      front:
        repoUrl: https://github.com/LedgerHQ/ledger-vault-front
        targetRevision: 8.11.0
        inlineValues:
          # specific per env (DO NOT COPY)
          custom:
            enableSoftware: true
            weblueUrl: "wss://weblue2.aws.prd.ldg-tech.com/speculos-weblue"
            speculosUrl: "https://weblue2.aws.prd.ldg-tech.com/weblue"

      nfts-api:
        repoUrl: https://github.com/LedgerHQ/vault-nfts-api
        useAppTemplate: true
        targetRevision: 1.4.7

      notification-center:
        repoUrl: https://github.com/LedgerHQ/vault-notification-center
        useAppTemplate: true
        targetRevision: 1.2.0

      notifier:
        repoUrl: https://github.com/LedgerHQ/vault-notifier
        targetRevision: 1.5.12

      organizations-api:
        repoUrl: https://github.com/LedgerHQ/vault-organizations-api
        useAppTemplate: true
        targetRevision: 4.2.4

      platform-manager:
        repoUrl: https://github.com/LedgerHQ/vault-platform-manager
        targetRevision: 4e5734b726981309baf2b806219e39246d2adb07
        inlineValues:
          image:
            tag: 2.4.0
          # specific per env (DO NOT COPY)
          custom:
            env: stg
            redisHost: redis.2087-vault-qa.aws.ldg-stg.net
          env:
            POSTGRES_DB: vault_platform_manager_qa
            USE_EXCHANGE_MOCKS: "false"
            # on qa env we don't want to store results for too long. Let use 6h
            CELERY_RESULT_EXPIRES: "18000"

      revault-api:
        inlineValues:
          env:
            # this URL will be used as default if revault-api is not able
            # to grab the information from org-api (it happens when testing
            # only the onboarding, without deploying a Gate)
            HSM_DRIVER_URL: "http://hsm-driver-testnew"

            # this enable /debug router that contains some useful endpoints
            # for debugging (e.g: list all workspaces, users, ...)
            ENABLE_DEBUG_PROCEDURES: "1"

            # override the debug auth token pulled from secret
            # convenient for automation
            REVAULT_DEBUG_AUTH_TOKEN: "stg-debug-auth-token"

            # override the root auth token pulled from secret
            # convenient for automation
            REVAULT_ROOT_AUTH_TOKEN: "stg-root-auth-token"
            ETHEREUM_ACCOUNT_READER_URL: "http://ethereum-account-reader.2063-vault-stg.svc.cluster.local"
            CARDANO_ACCOUNT_READER_URL: "http://cardano-account-reader.2063-vault-stg.svc.cluster.local"
            SOLANA_ACCOUNT_READER_URL: "http://solana-account-reader.2063-vault-stg.svc.cluster.local"
            BITCOIN_ACCOUNT_READER_URL: "http://bitcoin-transaction-crafter.2063-vault-stg.svc.cluster.local"
            LAMA_SCHEDULER_URL: "http://scheduler.2063-vault-stg.svc.cluster.local"

      revault-onboarding:
        inlineValues:
          custom:
            blueAppVersion: "6.2.0-dev"
            staxAppVersion: "2.0.2-dev"
            staxFirmwareVersion: "1.8.0"
            showDeviceSelector: true

      tradelink:
        repoUrl: https://github.com/LedgerHQ/vault-tradelink
        targetRevision: faa1b2f535ef90b061f1399b28c79105889d74ad
        useAppTemplate: true
        inlineValues:
          image:
            tag: 1.2.2

      tx-scheduler:
        repoUrl: https://github.com/LedgerHQ/vault-tx-scheduler
        useAppTemplate: true
        targetRevision: 1.3.4
        inlineValues:
          custom:
            # specific per envs (DO NOT COPY)
            secretEnv: stg

      web3checks-vault:
        repoUrl: https://github.com/LedgerHQ/web3checks-vault
        useAppTemplate: true
        targetRevision: 1.1.2

      web3-handler-api:
        repoUrl: https://github.com/LedgerHQ/web3-handler-api
        useAppTemplate: true
        targetRevision: 1.5.0
        inlineValues:
          custom:
            # specific per envs (DO NOT COPY)
            secretEnv: stg

      # =====================================================================
      # lam-qapublicapi - Used to run automated tests from vault-e2e-tests
      #                   More infos on the current release channel
      # =====================================================================
      lam-qapublicapi:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "qapublicapi"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-qapublicapi.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      lam-qapublicapilama:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "qapublicapilama"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-qapublicapilama.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      lam-qaabgate:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "qaabgate"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-qaabgate.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      # =====================================================================
      # lam-qasaltqa - Used to run automated tests from vault-e2e-tests
      #                More infos on the current release channel
      # =====================================================================
      lam-qasaltqa:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "qasaltqa"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-qasaltqa.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      lam-selfsapi:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "selfsapi"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-selfsapi.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      lam-selfsui:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "selfsui"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-selfsui.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      lam-selfsmigration:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "selfsmigration"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-selfsmigration.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      lam-newobd2402:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "newobd2402"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-newobd2402.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "500Mi"

      lam-selfobd:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "selfobd"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-selfobd.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "500Mi"

      # =====================================================================
      # lam-manualtest0403 - Used to run manuel tests
      #                   More infos on the current release channel
      # =====================================================================
      lam-manualtest0403:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "manualtest0403"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-manualtest0403.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      # =====================================================================
      # lam-enclave
      # =====================================================================
      lam-enclaveffs4:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "enclaveffs4"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-enclaveffs4.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      # =====================================================================
      # lam-mixpreset
      # =====================================================================
      lam-mixpreset1:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "mixpreset1"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-mixpreset1.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

      lam-mixpreset2:
        repoUrl: https://github.com/LedgerHQ/vault-lam
        useAppTemplate: true
        inlineValues:
          image:
            repository: ghcr.io/ledgerhq/vault-lam
            tag: 1.19.3@sha256:5b2f65df6c4841d70efd836e35aa7f194ff09cbb147f72c2ae285b12862fd64a
          env:
            API_AUTHENTICATION_KEY: "EzWcHvdRHfqUmuhTtSNgQsdZzHccrqjowPrqHaAOGMdjGUotOnWYbwdQusUCiCpw"
            WORKSPACE: "mixpreset2"
            GUNICORN_TIMEOUT: 300
            TIMEOUT_API_CALL: 150
          custom:
            lamDomain: vault-lam-mixpreset2.aws.stg.ldg-tech.com
          resources:
            limits:
              cpu: "500m"
              memory: "2Gi"
            requests:
              cpu: "500m"
              memory: "1Gi"

    gates:
      # =====================================================================
      # qapublicapi - Used to run automated tests from vault-public-api-tests
      #               More infos on #vault-qa
      # =====================================================================
      gate-qapublicapi:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 9606

      gate-qapublicapilama:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 96054

      gate-qaautocifunds:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 96067

      # ============= to be removed =====================
      gate-qaabgate:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 96064

      # ===========================================================
      # qasaltqa - Used to run automated tests from vault-e2e-tests
      #            More infos on #vault-qa
      # ===========================================================
      gate-qasaltqa:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 101

      # ===========================================================
      # qaselfs- Used to run api & ui & migration tests when
      #            releasing new selfs.
      # ===========================================================
      gate-selfsapi:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 2350

      gate-selfsui:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 2351

      # ===========================================================
      # mixpreset2 - Used for UI tests
      # ===========================================================
      gate-mixpreset2:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 96076

      gate-selfsmigration:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 2357

      gate-selfobd:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 96053

      # ===========================================================
      # manualtest0403- Used to run manual tests
      # ===========================================================
      gate-manualtest0403:
        inlineValues:
          image:
            tag: 8.9.9
          env:
            VAULT_COMPARTMENT_ID: 104

      # ===========================================================
      # enclave - Used time to time by the enclave team
      # ===========================================================
      gate-enclaveffs4:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 7692
            VAULT_HSM_DRIVER_NAME: enclave

    gates-mix-preset:
      # ===========================================================
      # mixpreset gate used for the public-api tests
      #            More infos on #vault-qa
      # ===========================================================
      gate-mixpreset1:
        inlineValues:
          env:
            VAULT_COMPARTMENT_ID: 96070

    hsmdrivers:
      hsm-driver-testnew:
        inlineValues:
          # specific per envs (DO NOT COPY)
          custom:
            postgresDB: "hsmdriver_hsm-driver-testnew" # do not add it for new hsm-driver, default chart values should apply
            region: "hsm-driver-testnew" # do not add it for new hsm-driver, default chart values should apply
            hsmEnv: "simu"
          env:
            VAULT_HSM_GATEWAY_URL: "http://hsm-proxy-testnew"
            VAULT_HSM_ENDPOINT: "https://vault-qa.hsmsaas3.ledger-stg.com/qa/process"
          driver:
            initContainers:
              init-db-postgres:
                env:
                  POSTGRES_FORCE_ALTER_PASSWORD: true

      hsm-driver-enclave:
        inlineValues:
          custom:
            hsmEnv: "cluster-dev"
          env:
            VAULT_HSM_ENDPOINT: "https://vault-cluster.hsm.pa6.ldg-stg.net/process"
            VAULT_HSM_GATEWAY_URL: "http://hsm-proxy-enclave"

    hsmproxys:
      hsm-proxy-testnew:
        inlineValues:
          custom:
            postgresDB: "hsmdriver_hsm-driver-testnew" # do not add it for new hsm-driver, default chart values should apply
            region: "hsm-driver-testnew" # do not add it for new hsm-driver, default chart values should apply
            hsmEnv: "simu"
          env:
            VAULT_HSM_ENDPOINT: "https://vault-qa.hsmsaas3.ledger-stg.com/qa/process"

      hsm-proxy-enclave:
        inlineValues:
          custom:
            hsmEnv: "cluster-dev"
          env:
            VAULT_HSM_ENDPOINT: "https://vault-cluster.hsm.pa6.ldg-stg.net"

    hsmproxysequencers:
      hsm-proxy-sequencer-testnew:
        inlineValues:
          custom:
            postgresDB: "hsmdriver_hsm-driver-testnew"
            region: "hsm-driver-testnew" # do not add it for new hsm-proxy, default chart values should apply
            hsmEnv: "simu"
          env:
            VAULT_HSM_ENDPOINT: "https://vault-qa.hsmsaas3.ledger-stg.com/qa/process"

      hsm-proxy-sequencer-enclave:
        inlineValues:
          custom:
            hsmEnv: "cluster-dev"
          env:
            VAULT_HSM_ENDPOINT: "https://vault-cluster.hsm.pa6.ldg-stg.net"

    wds:
